{"version":3,"sources":["lib/SpringCalendar/CalendarContext.js","lib/SpringCalendar/Days.js","lib/SpringCalendar/Month.js","lib/SpringCalendar/Months.js","lib/SpringCalendar/Hours.js","lib/SpringCalendar/index.js","lib/index.js","module/index.js","index.js"],"names":["CalendarContext","React","createContext","CalendarProvider","Provider","Consumer","Days","month","useContext","moment","year","events","setSelectedDay","startDay","startOf","day","endDay","endOf","daysOfMonth","Array","daysInMonth","map","x","k","dayIndex","belongsToThisMonth","prevMonthCountDays","index","unshift","push","getFullDayString","dm","i","fullDayString","isToday","isSame","evts","filter","event","startDate","onClick","d","console","log","selectDay","key","className","length","Month","extended","setSelectedMonth","label","weekdaysShort","weekday","j","Months","months","Hours","useState","customEvents","setCustomEvents","useEffect","e","gridColumnStart","ev","tmp","title","endDate","style","gridRowStart","hour","height","marginLeft","dayHours","NextButton","fill","y","width","viewBox","id","points","PrevButton","transform","SpringCalendar","locale","color","setYear","setMonths","mainContent","setMainContent","headerContent","setHeaderContent","selectedMonth","selectedDay","document","documentElement","setProperty","DYNAMIC_CONTENT","hours","HEADER_CONTENT","format","value","prevMonth","subtract","prevDay","date","gotoPrev","nextMonth","add","nextDay","gotoNext","selectMonth","App","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.3b417262.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst CalendarContext=React.createContext({});\r\n\r\nexport const CalendarProvider=CalendarContext.Provider\r\nexport const CalendarConsumer=CalendarContext.Consumer\r\nexport default CalendarContext;","import React, { useContext } from 'react';\r\nimport CalendarContext from './CalendarContext';\r\n\r\nconst Days = ({ month }) => {\r\n\tconst { moment, year, events, setSelectedDay } = useContext(CalendarContext);\r\n\r\n\tlet startDay = moment(`${year}-${month + 1}`)\r\n\t\t.startOf('month')\r\n\t\t.day();\r\n\tlet endDay = moment(`${year}-${month + 1}`)\r\n\t\t.endOf('month')\r\n\t\t.day();\r\n\tlet daysOfMonth = [...Array(moment(`${year}-${month + 1}`).daysInMonth())].map((x, k) => {\r\n\t\treturn {\r\n\t\t\tdayIndex: k + 1,\r\n\t\t\tbelongsToThisMonth: true,\r\n\t\t};\r\n\t});\r\n\r\n\tlet prevMonthCountDays =\r\n\t\tmonth > 0 ? moment(`${year}-${month}`).daysInMonth() : moment(`${year - 1}-12`).daysInMonth();\r\n\r\n\tfor (let index = 0; index < startDay; index++) {\r\n\t\tdaysOfMonth.unshift({\r\n\t\t\tdayIndex: prevMonthCountDays,\r\n\t\t\tbelongsToThisMonth: false,\r\n\t\t});\r\n\t\tprevMonthCountDays--;\r\n\t}\r\n\tfor (let index = 1; index <= 6 - endDay; index++) {\r\n\t\tdaysOfMonth.push({\r\n\t\t\tdayIndex: index,\r\n\t\t\tbelongsToThisMonth: false,\r\n\t\t});\r\n\t}\r\n\tconst selectDay = (day, belongsToThisMonth) => {\r\n\t\tif (belongsToThisMonth) {\r\n\t\t\tsetSelectedDay(day);\r\n\t\t} else {\r\n\t\t\tlet d;\r\n\t\t\tif (day.index < 7) {\r\n\t\t\t\tif (day.month + 1 > 12) {\r\n\t\t\t\t\td = { ...day, month: 1, fullDayString: getFullDayString(day.year + 1, 1, day.index) };\r\n\t\t\t\t} else {\r\n\t\t\t\t\td = {\r\n\t\t\t\t\t\t...day,\r\n\t\t\t\t\t\tmonth: day.month + 1,\r\n\t\t\t\t\t\tfullDayString: getFullDayString(day.year, day.month + 1, day.index),\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (day.month - 1 === 0) {\r\n\t\t\t\t\td = { ...day, month: 12, fullDayString: getFullDayString(day.year - 1, 12, day.index) };\r\n\t\t\t\t} else {\r\n\t\t\t\t\td = {\r\n\t\t\t\t\t\t...day,\r\n\t\t\t\t\t\tmonth: day.month - 1,\r\n\t\t\t\t\t\tfullDayString: getFullDayString(day.year, day.month - 1, day.index),\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tsetSelectedDay(d);\r\n\t\t\tconsole.log(d);\r\n\t\t}\r\n\t};\r\n\t/***\r\n\t *\r\n\t *\r\n\t */\r\n\tconst getFullDayString = (year, month, day) => {\r\n\t\treturn `${year}-${month}-${day}`;\r\n\t};\r\n\t/********\r\n\t *\r\n\t */\r\n\treturn daysOfMonth.map((dm, i) => {\r\n\t\tlet fullDayString = getFullDayString(year, month + 1, dm.dayIndex);\r\n\t\tlet isToday = moment().isSame(fullDayString, 'day');\r\n\r\n\t\tlet day = {\r\n\t\t\tindex: dm.dayIndex,\r\n\t\t\tmonth: month + 1,\r\n\t\t\tyear: year,\r\n\t\t\tfullDayString,\r\n\t\t};\r\n\t\tlet evts = events.filter(event => {\r\n\t\t\tif (moment(event.startDate).isSame(day.fullDayString, 'day')) {\r\n\t\t\t\treturn event;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tonClick={() => selectDay(day, dm.belongsToThisMonth)}\r\n\t\t\t\tkey={`dm${dm}${i}`}\r\n\t\t\t\tclassName={`spring-calendar-day ${\r\n\t\t\t\t\tdm.belongsToThisMonth ? 'spring-calendar-day-in-month' : 'spring-calendar-day-out-month'\r\n\t\t\t\t} \r\n            `}\r\n\t\t\t>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={`${\r\n\t\t\t\t\t\tisToday ? 'spring-calendar-today  spring-centered-content' : ''\r\n\t\t\t\t\t}  spring-centered-content'`}\r\n\t\t\t\t>\r\n\t\t\t\t\t<span>{dm.dayIndex}</span>\r\n\t\t\t\t\t{evts.length > 0 && (\r\n\t\t\t\t\t\t<sup>\r\n\t\t\t\t\t\t\t<div className=\"spring-calendar-day-events\">{evts.length}</div>\r\n\t\t\t\t\t\t</sup>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t});\r\n};\r\n\r\nexport default Days;\r\n","import React,{useContext} from 'react';\r\nimport Days from './Days';\r\nimport CalendarContext from './CalendarContext';\r\n\r\n\r\nconst Month = ({ month,extended }) => {\r\n    const {moment,setSelectedMonth}=useContext(CalendarContext)\r\n\r\n\treturn (\r\n\t\t<div className={`  ${extended?'spring-calendar-month-wrapper-extended':'' } spring-calendar-month-wrapper `}>\r\n\t\t\t<div\r\n\t\t\t\tclassName=\"spring-calendar-month spring-centered-content\"\r\n\t\t\t\tonClick={() => extended?setSelectedMonth(null):setSelectedMonth(month) }\r\n\t\t\t>\r\n\t\t\t\t{month && month.label}\r\n\t\t\t</div>\r\n\t\t\t{moment.weekdaysShort().map((weekday, j) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className=\"spring-calendar-weekday spring-centered-content\" key={`wd${j}`}>\r\n\t\t\t\t\t\t{weekday}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t{month &&\t<Days month={month.index} />}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Month;\r\n","import React, { useContext } from 'react';\r\nimport CalendarContext from './CalendarContext';\r\nimport Month from './Month';\r\nconst Months = () => {\r\n\tconst { months } = useContext(CalendarContext);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{months.map((month, i) => {\r\n\t\t\t\treturn <Month month={month} key={`m${i}`} />;\r\n\t\t\t})}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Months;\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport CalendarContext from './CalendarContext';\r\n\r\nconst Hours = ({ day }) => {\r\n\tconst { events, moment } = useContext(CalendarContext);\r\n\r\n\tconst [customEvents, setCustomEvents] = useState([]);\r\n\r\n\t/****\r\n\t *\r\n\t */\r\n\tuseEffect(() => {\r\n\t\tlet e = events.filter(event => {\r\n\t\t\tif (moment(event.startDate).isSame(day.fullDayString, 'day')) {\r\n\t\t\t\treturn event;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tlet gridColumnStart = 3;\r\n\t\tlet ev = e.map(event => {\r\n\t\t\tlet tmp = {\r\n\t\t\t\ttitle: event.title,\r\n\t\t\t\tstartDate: moment(event.startDate),\r\n\t\t\t\tendDate: moment(event.endDate),\r\n\t\t\t\tstyle: {},\r\n\t\t\t};\r\n\r\n\t\t\ttmp.style.gridRowStart = tmp.startDate.hour() + 1;\r\n\t\t\ttmp.style.height = `${(tmp.endDate.hour() - tmp.startDate.hour()) * 48 + 4}px`;\r\n\t\t\treturn tmp;\r\n\t\t});\r\n\t\tev = ev.map((event, i) => {\r\n\t\t\tlet k = 0;\r\n\t\t\twhile (k < i) {\r\n\t\t\t\tif (\r\n\t\t\t\t\t(event.startDate.hour() >= ev[k].startDate.hour() &&\r\n\t\t\t\t\t\tevent.startDate.hour() <= ev[k].endDate.hour()) ||\r\n\t\t\t\t\t(ev[k].startDate.hour() >= event.startDate.hour() && ev[k].startDate.hour() <= event.endDate.hour())\r\n\t\t\t\t) {\r\n\t\t\t\t\tgridColumnStart++;\r\n\t\t\t\t\tevent.style.gridColumnStart = gridColumnStart;\r\n\t\t\t\t\tevent.style.marginLeft = '12px';\r\n\t\t\t\t}\r\n\t\t\t\tk++;\r\n\t\t\t}\r\n\t\t\treturn event;\r\n\t\t});\r\n\t\t\r\n\t\tsetCustomEvents(ev);\r\n\t}, [events, day, moment]);\r\n\t/***\r\n\t *\r\n\t */\r\n\tconst dayHours = [...Array(24)].map((x, k) => {\r\n\t\treturn {\r\n\t\t\tindex: k,\r\n\t\t\tlabel: `${k < 10 ? '0' + k : k}:00`,\r\n\t\t};\r\n\t});\r\n\t/**\r\n\t *\r\n\t * JSX template\r\n\t */\r\n\treturn (\r\n\t\t<div className=\"spring-calendar-hours-wrapper\">\r\n\t\t\t{dayHours.map((hour, i) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div key={`h${i}`} className=\"spring-calendar-hour\">\r\n\t\t\t\t\t\t{hour.label}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\r\n\t\t\t{customEvents.map((event, k) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div key={`e${k}`} style={event.style} className=\"spring-calendar-event\">\r\n\t\t\t\t\t\t{event.title}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Hours;\r\n","import React, { useEffect, useState } from 'react';\r\nimport './style.scss';\r\nimport moment from 'moment/min/moment-with-locales';\r\n//import { useSelector } from 'react-redux';\r\nimport Months from './Months';\r\nimport Month from './Month';\r\nimport { CalendarProvider } from './CalendarContext';\r\nimport Hours from './Hours';\r\n\r\nconst SpringCalendar = ({ locale, events ,color}) => {\r\n\tconst [year, setYear] = useState(2020);\r\n\tconst [months, setMonths] = useState(\r\n\t\tmoment.months().map((label, index) => {\r\n\t\t\treturn { label, index };\r\n\t\t})\r\n\t);\r\n\tconst [mainContent, setMainContent] = useState('months');\r\n\tconst [headerContent, setHeaderContent] = useState('year');\r\n\tconst [selectedMonth, setSelectedMonth] = useState(null);\r\n\tconst [selectedDay, setSelectedDay] = useState(null);\r\n\t//\tconst locale = useSelector(state => state.locale);\r\n\r\n\t//window.moment = moment;\r\n\t/**\r\n\t *\r\n\t * useEffect hooooooook\r\n\t */\r\n\tuseEffect(() => {\r\n\t\tdocument.documentElement.style.setProperty(\"--primary\", color);\r\n\t\tmoment.locale(locale);console.log(locale)\r\n\t\tsetMonths(\r\n\t\t\tmoment.months().map((label, index) => {\r\n\t\t\t\treturn { label, index };\r\n\t\t\t})\r\n\t\t);\r\n\t}, [locale,color]);\r\n\t/********** */\r\n\tuseEffect(() => {\r\n\t\tif (selectedMonth) {\r\n\t\t\tsetMainContent('month');\r\n\t\t\tsetHeaderContent('month');\r\n\t\t} else {\r\n\t\t\tsetMainContent('months');\r\n\t\t}\r\n\t}, [selectedMonth]);\r\n\t/** */\r\n\r\n\tuseEffect(() => {\r\n\t\tif (selectedDay !== null) {\r\n\t\t\tsetMainContent('hours');\r\n\t\t\tsetHeaderContent('day');\r\n\t\t}\r\n\t}, [selectedDay]);\r\n\t/**\r\n\t * functions and constants\r\n\t */\r\n\r\n\tconst DYNAMIC_CONTENT = {\r\n\t\tmonths: <Months />,\r\n\t\tmonth: <Month month={selectedMonth} extended={selectedMonth !== null} />,\r\n\t\thours: <Hours day={selectedDay} />,\r\n\t};\r\n\r\n\tconst HEADER_CONTENT = {\r\n\t\tyear: <h2>{year}</h2>,\r\n\t\tmonth:\r\n\t\t\tselectedMonth !== null ? <h2>{moment(`${year}-${selectedMonth.index + 1}`).format('MMMM YYYY')}</h2> : null,\r\n\t\tday: selectedDay !== null ? <h2>{moment(selectedDay.fullDayString).format('LL')}</h2> : null,\r\n\t};\r\n\t/******* */\r\n\r\n\tconst gotoPrev = () => {\r\n\t\tswitch (headerContent) {\r\n\t\t\tcase 'year':\r\n\t\t\t\tlet y = year - 1;\r\n\t\t\t\tsetYear(y);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'month':\r\n\t\t\t\tlet prevMonth = moment(`${year}-${selectedMonth.index + 1}`).subtract(1, 'months');\r\n\t\t\t\tsetYear(prevMonth.year());\r\n\t\t\t\tlet index = prevMonth.month();\r\n\t\t\t\tsetSelectedMonth({ index: index, label: moment.months()[index] });\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'day':\r\n\t\t\t\tlet prevDay = moment(selectedDay.fullDayString).subtract(1, 'days');\r\n\t\t\t\tsetYear(prevDay.year());\r\n\r\n\t\t\t\tsetSelectedMonth({ index: prevDay.month() + 1, label: moment.months()[prevDay.month()] });\r\n\r\n\t\t\t\tsetSelectedDay({\r\n\t\t\t\t\tindex: prevDay.date(),\r\n\t\t\t\t\tmonth: prevDay.month() + 1,\r\n\t\t\t\t\tyear: prevDay.year(),\r\n\t\t\t\t\tfullDayString: `${year}-${prevDay.month() + 1}-${prevDay.date()}`,\r\n\t\t\t\t});\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\r\n\tconst gotoNext = () => {\r\n\t\tswitch (headerContent) {\r\n\t\t\tcase 'year':\r\n\t\t\t\tlet y = year + 1;\r\n\t\t\t\tsetYear(y);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'month':\r\n\t\t\t\tlet nextMonth = moment(`${year}-${selectedMonth.index + 1}`).add(1, 'months');\r\n\t\t\t\tsetYear(nextMonth.year());\r\n\t\t\t\tlet index = nextMonth.month();\r\n\t\t\t\tsetSelectedMonth({ index: index, label: moment.months()[index] });\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'day':\r\n\t\t\t\tlet nextDay = moment(selectedDay.fullDayString).add(1, 'days');\r\n\r\n\t\t\t\tsetYear(nextDay.year());\r\n\t\t\t\t//let d = nextDay.toDate();\r\n\t\t\t\tsetSelectedMonth({ index: nextDay.month() + 1, label: moment.months()[nextDay.month()] });\r\n\r\n\t\t\t\tsetSelectedDay({\r\n\t\t\t\t\tindex: nextDay.date(),\r\n\t\t\t\t\tmonth: nextDay.month() + 1,\r\n\t\t\t\t\tyear: nextDay.year(),\r\n\t\t\t\t\tfullDayString: `${year}-${nextDay.month() + 1}-${nextDay.date()}`,\r\n\t\t\t\t});\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\t/*** */\r\n\r\n\tconst selectMonth = () => {\r\n\t\tsetHeaderContent('month');\r\n\t\tsetMainContent('month');\r\n\t\tlet index = moment().month();\r\n\t\tselectedMonth ? setSelectedMonth(null) : setSelectedMonth({ index: index, label: moment.months()[index] });\r\n\t};\r\n\r\n\tconst selectYear = () => {\r\n\t\tsetHeaderContent('year');\r\n\t\tsetMainContent('months');\r\n\t\tsetYear(moment().year());\r\n\t};\r\n\r\n\tconst selectDay = () => {\r\n\t\tsetHeaderContent('day');\r\n\t\tsetSelectedDay({ fullDayString: moment().format('YYYY-MM-DD') });\r\n\t};\r\n\t/**\r\n\t * JSX template\r\n\t */\r\n\treturn (\r\n\t\t<CalendarProvider value={{ moment, year, months, events, setSelectedMonth, setSelectedDay }}>\r\n\t\t\t<div className=\"spring-calendar-wrapper\">\r\n\t\t\t\t<div className=\"spring-calendar-year-wrapper\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={`spring-calendar-year ${\r\n\t\t\t\t\t\t\tselectedMonth || selectedDay ? 'spring-calendar-month-year' : ''\r\n\t\t\t\t\t\t}`}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<PrevButton onClick={() => gotoPrev()} />\r\n\t\t\t\t\t\t{HEADER_CONTENT[headerContent]}\r\n\t\t\t\t\t\t<NextButton onClick={() => gotoNext()} />\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"spring-calendar-toggle\">\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tonClick={() => selectDay()}\r\n\t\t\t\t\t\t\tclassName={`spring-button ${headerContent === 'day' ? 'spring-button-active' : ''}`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tDay\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tonClick={() => selectMonth()}\r\n\t\t\t\t\t\t\tclassName={`spring-button ${headerContent === 'month' ? 'spring-button-active' : ''}`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tMonth\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tonClick={() => selectYear()}\r\n\t\t\t\t\t\t\tclassName={`spring-button ${headerContent === 'year' ? 'spring-button-active' : ''}`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tYear\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"spring-main-content\">{DYNAMIC_CONTENT[mainContent]}</div>\r\n\t\t\t</div>\r\n\t\t</CalendarProvider>\r\n\t);\r\n};\r\n\r\nconst NextButton = ({ onClick }) => {\r\n\treturn (\r\n\t\t<button className=\"spring-btn spring-btn-rounded\" onClick={onClick}>\r\n\t\t\t<svg fill=\"white\" x=\"0px\" y=\"0px\" width=\"20px\" height=\"20px\" viewBox=\"0 0 306 306\">\r\n\t\t\t\t<g id=\"chevron-right\">\r\n\t\t\t\t\t<polygon points=\"94.35,0 58.65,35.7 175.95,153 58.65,270.3 94.35,306 247.35,153\" />\r\n\t\t\t\t</g>\r\n\t\t\t</svg>\r\n\t\t</button>\r\n\t);\r\n};\r\n\r\nconst PrevButton = ({ onClick }) => {\r\n\treturn (\r\n\t\t<button className=\"spring-btn spring-btn-rounded\" onClick={onClick}>\r\n\t\t\t<svg\r\n\t\t\t\tx=\"0px\"\r\n\t\t\t\tfill=\"white\"\r\n\t\t\t\ty=\"0px\"\r\n\t\t\t\twidth=\"20px\"\r\n\t\t\t\theight=\"20px\"\r\n\t\t\t\tviewBox=\"0 0 306 306\"\r\n\t\t\t\tstyle={{ transform: 'rotate(180deg)' }}\r\n\t\t\t>\r\n\t\t\t\t<g id=\"chevron-right\">\r\n\t\t\t\t\t<polygon points=\"94.35,0 58.65,35.7 175.95,153 58.65,270.3 94.35,306 247.35,153\" />\r\n\t\t\t\t</g>\r\n\t\t\t</svg>\r\n\t\t</button>\r\n\t);\r\n};\r\n\r\nexport default SpringCalendar;\r\n","import SpringCalendar from './SpringCalendar'\r\n\r\nexport default SpringCalendar;","import React from 'react';\r\nimport SpringCalendar from '../lib';\r\n\r\nlet events=[\r\n    {\r\n        title:'Event 1',\r\n        startDate:'2020-01-15 08:00',\r\n        endDate:'2020-01-15 10:00',\r\n    },\r\n    {\r\n        title:'Event 3',\r\n        startDate:'2020-01-15 09:00',\r\n        endDate:'2020-01-15 12:00',\r\n    },\r\n    {\r\n        title:'Event 2',\r\n        startDate:'2020-01-15 12:00',\r\n        endDate:'2020-01-15 16:00',\r\n    },\r\n    {\r\n        title:'Event 4',\r\n        startDate:'2020-01-15 09:00',\r\n        endDate:'2020-01-15 10:00',\r\n    },\r\n    {\r\n        title:'Event 5',\r\n        startDate:'2020-01-15 09:00',\r\n        endDate:'2020-01-15 10:00',\r\n    },\r\n    {\r\n        title:'Event 6',\r\n        startDate:'2020-01-15 08:00',\r\n        endDate:'2020-01-15 10:00',\r\n    },\r\n    {\r\n        title:'Event 7',\r\n        startDate:'2020-01-15 09:00',\r\n        endDate:'2020-01-15 10:00',\r\n    }\r\n]\r\nconst App =()=> <SpringCalendar locale=\"en\" events={events} color=\"#002651\" />;\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './module';\r\nReactDOM.render( <App/>, document.getElementById('root') );"],"sourceRoot":""}